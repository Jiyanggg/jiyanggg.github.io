### 1. Django 

#### 类视图

简单的列表页与详细页视图可以使用继承通用视图来减少重复代码

urls.py

```
urlpatterns = [
    path('', views.IndexView.as_view(), name='index')
]
```

views.py

```
class IndexView(generic.ListView):
    template_name = 'polls/index.html'
    context_object_name = 'latest_question_list'
    
    def get_queryset(self):
        return Question.objects.order_by('-pub_date')[:5]

class DetailView(generic.DetailView):
    model = Question
    template_name = 'polls/results.html'
```

#### 加载静态资源

良好的目录结构是每个应用都应该创建自己的urls、forms、views、models、tests、apps、templates和static，每个templates包含一个与应用同名的子目录，每个static也包含一个与应用同名的子目录。


polls/static/polls/style.css

```
li a {
    color: green;
}
```

polls/templates/polls/index.html

```
{% load static %}   # 这一行放到文件最顶部


# 这一行放到head标签中
<link rel="stylesheet" type="text/css" href="{% static 'polls/style.css' %}"> 
```


### 自定义 Admin APP

`list_display`: 最外层展示的 model 字段

`fieldsets`: 详细页中展示的字段并将其分层

`inlines`: 修改/添加模型时的内联 models

`list_filter`： 用作筛选的字段

`searhc_fields`: 用作搜索的字段



```
from django.contrib import admin

from .models import Choice, Question


class ChoiceInline(admin.TabularInline):
    model = Choice
    extra = 3


class QuestionAdmin(admin.ModelAdmin):
    list_display = ('question_text', 'pub_date', 'was_published_recently')
    fieldsets = [
        (None,               {'fields': ['question_text']}),
        ('Date information', {'fields': ['pub_date'], 'classes': ['collapse']}),
    ]
    inlines = [ChoiceInline]
    list_filter = ['pub_date']
    search_fields = ['question_text']

admin.site.register(Question, QuestionAdmin)
```