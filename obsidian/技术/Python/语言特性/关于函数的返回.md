
来源：https://github.com/piglei/one-python-craftsman

### 单个函数不要返回多种类型


### 使用 partial 构造新函数
Before
```
def multiply(x, y):
    return x * y


def double(value):
    # 返回另一个函数调用结果
    return multiply(2, value)
```

Better
```
import functools

double = functools.partial(multiply, 2)
```

###  抛出异常，而不是返回结果与错误


### 合理使用“空对象模式”

```
class Account:
    # def __init__ 已省略... ...
    
    @classmethod
    def from_string(cls, s):
        """从字符串初始化一个账号

        :returns: 如果输入合法，返回 Account object，否则返回 NullAccount
        """
        try:
            username, balance = s.split()
            balance = decimal.Decimal(float(balance))
        except ValueError:
            return NullAccount()

        if balance < 0:
            return NullAccount()
        return cls(username=username, balance=balance)


class NullAccount:
    username = ''
    balance = 0

    @classmethod
    def from_string(cls, s):
        raise NotImplementedError
```

### 生成器函数代替返回列表


### 限制递归的使用